<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.demo.mapper.MovieMapper">

	<select id="movie_read" resultType="com.example.demo.vo.MovieVO"
		parameterType="Integer">
		SELECT * FROM TB_movie
		WHERE code = #{code}
	</select>
	
	
	<select id="movie_list"
		resultType="com.example.demo.vo.MovieVO">
		SELECT * FROM TB_movie
	</select>
	<select id="movie_search"
		resultType="com.example.demo.vo.MovieVO" parameterType="String">
		SELECT * FROM
		TB_movie
		WHERE title LIKE CONCAT('%',#{keyword},'%')
		OR 	  directors LIKE CONCAT('%',#{keyword},'%')
		OR 	  actors LIKE CONCAT('%',#{keyword},'%')
		ORDER BY netizens_rate desc
	</select>

</mapper>
	